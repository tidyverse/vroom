<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Get started with vroom • vroom</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get started with vroom">
<meta name="robots" content="noindex">
<script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="vroom.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vroom</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.6.7.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/vroom.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/benchmarks.html">Vroom Benchmarks</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://tidyverse.org/blog/2020/01/vroom-1-1-0/">vroom 1.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://tidyverse.org/blog/2019/05/vroom-1-0-0/">vroom 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/vroom/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get started with vroom</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/vroom/blob/main/vignettes/vroom.Rmd" class="external-link"><code>vignettes/vroom.Rmd</code></a></small>
      <div class="d-none name"><code>vroom.Rmd</code></div>
    </div>

    
    
<p>The vroom package contains one main function <code><a href="../reference/vroom.html">vroom()</a></code>
which is used to read all types of delimited files. A delimited file is
any file in which the data is separated (delimited) by one or more
characters.</p>
<p>The most common type of delimited files are CSV (Comma Separated
Values) or TSV (Tab Separated Values) files, typically these files have
a <code>.csv</code> and <code>.tsv</code> suffix respectively.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://vroom.tidyverse.org">vroom</a></span><span class="op">)</span></span></code></pre></div>
<p>This vignette covers the following topics:</p>
<ul>
<li>The basics of reading files, including
<ul>
<li>single files</li>
<li>multiple files</li>
<li>compressed files</li>
<li>remote files</li>
</ul>
</li>
<li>Skipping particular columns.</li>
<li>Specifying column types, for additional safety and when the
automatic guessing fails.</li>
<li>Writing regular and compressed files</li>
</ul>
<div class="section level2">
<h2 id="reading-files">Reading files<a class="anchor" aria-label="anchor" href="#reading-files"></a>
</h2>
<p>To read a CSV, or other type of delimited file with vroom pass the
file to <code><a href="../reference/vroom.html">vroom()</a></code>. The delimiter will be automatically
guessed if it is a common delimiter; e.g. (“,” “” ” “|” “:” “;”). If the
guessing fails or you are using a less common delimiter specify it with
the <code>delim</code> parameter. (e.g. <code>delim = ","</code>).</p>
<p>We have included an example CSV file in the vroom package for use in
examples and tests. Access it with
<code>vroom_example("mtcars.csv")</code></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># See where the example file is stored on your machine</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vroom_example.html">vroom_example</a></span><span class="op">(</span><span class="st">"mtcars.csv"</span><span class="op">)</span></span>
<span><span class="va">file</span></span>
<span><span class="co">#&gt; [1] "/home/runner/work/_temp/Library/vroom/extdata/mtcars.csv"</span></span>
<span></span>
<span><span class="co"># Read the file, by default vroom will guess the delimiter automatically.</span></span>
<span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">32</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">12</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span>  (1): model</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (11): mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 12</span></span></span>
<span><span class="co">#&gt;   model       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mazda RX4  21       6   160   110  3.9   2.62  16.5     0     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mazda RX…  21       6   160   110  3.9   2.88  17.0     0     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Datsun 7…  22.8     4   108    93  3.85  2.32  18.6     1     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: carb &lt;dbl&gt;</span></span></span>
<span></span>
<span><span class="co"># You can also specify it explicitly, which is (slightly) faster, and safer if</span></span>
<span><span class="co"># you know how the file is delimited.</span></span>
<span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="va">file</span>, delim <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">32</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">12</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span>  (1): model</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (11): mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 12</span></span></span>
<span><span class="co">#&gt;   model       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mazda RX4  21       6   160   110  3.9   2.62  16.5     0     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mazda RX…  21       6   160   110  3.9   2.88  17.0     0     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Datsun 7…  22.8     4   108    93  3.85  2.32  18.6     1     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: carb &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="reading-multiple-files">Reading multiple files<a class="anchor" aria-label="anchor" href="#reading-multiple-files"></a>
</h2>
<p>If you are reading a set of files which all have the same columns (as
in, names and types), you can pass the filenames directly to
<code><a href="../reference/vroom.html">vroom()</a></code> and it will combine them into one result. vroom’s
example datasets include several files named like
<code>mtcars-i.csv</code>. These files contain subsets of the
<code>mtcars</code> data, for cars with different numbers of cylinders.
First, we get a character vector of these filepaths.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ve</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"mtcars-[0-9].csv"</span>, <span class="fu"><a href="../reference/vroom_example.html">vroom_examples</a></span><span class="op">(</span><span class="op">)</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">ve</span>, <span class="va">vroom_example</span><span class="op">)</span></span>
<span><span class="va">files</span></span>
<span><span class="co">#&gt;                                                 mtcars-4.csv </span></span>
<span><span class="co">#&gt; "/home/runner/work/_temp/Library/vroom/extdata/mtcars-4.csv" </span></span>
<span><span class="co">#&gt;                                                 mtcars-6.csv </span></span>
<span><span class="co">#&gt; "/home/runner/work/_temp/Library/vroom/extdata/mtcars-6.csv" </span></span>
<span><span class="co">#&gt;                                                 mtcars-8.csv </span></span>
<span><span class="co">#&gt; "/home/runner/work/_temp/Library/vroom/extdata/mtcars-8.csv"</span></span></code></pre></div>
<p>Now we can efficiently read them into one table by passing the
filenames directly to vroom.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="va">files</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">32</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">12</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span>  (1): model</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (11): mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 12</span></span></span>
<span><span class="co">#&gt;   model       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Datsun 7…  22.8     4  108     93  3.85  2.32  18.6     1     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Merc 240D  24.4     4  147.    62  3.69  3.19  20       1     0     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Merc 230   22.8     4  141.    95  3.92  3.15  22.9     1     0     4</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: carb &lt;dbl&gt;</span></span></span></code></pre></div>
<p>Often the filename or directory where the files are stored contains
information. The <code>id</code> parameter can be used to add an extra
column to the result with the full path to each file. (in this case we
name the column <code>path</code>).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="va">files</span>, id <span class="op">=</span> <span class="st">"path"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">32</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">13</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span>  (1): model</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (11): mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 13</span></span></span>
<span><span class="co">#&gt;   path      model   mpg   cyl  disp    hp  drat    wt  qsec    vs    am</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> /home/ru… Dats…  22.8     4  108     93  3.85  2.32  18.6     1     1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> /home/ru… Merc…  24.4     4  147.    62  3.69  3.19  20       1     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> /home/ru… Merc…  22.8     4  141.    95  3.92  3.15  22.9     1     0</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: gear &lt;dbl&gt;, carb &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="reading-compressed-files">Reading compressed files<a class="anchor" aria-label="anchor" href="#reading-compressed-files"></a>
</h2>
<p>vroom supports reading zip, gz, bz2 and xz compressed files
automatically, just pass the filename of the compressed file to
vroom.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vroom_example.html">vroom_example</a></span><span class="op">(</span><span class="st">"mtcars.csv.gz"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">32</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">12</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span>  (1): model</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (11): mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 12</span></span></span>
<span><span class="co">#&gt;   model       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mazda RX4  21       6   160   110  3.9   2.62  16.5     0     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mazda RX…  21       6   160   110  3.9   2.88  17.0     0     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Datsun 7…  22.8     4   108    93  3.85  2.32  18.6     1     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: carb &lt;dbl&gt;</span></span></span></code></pre></div>
<p><code><a href="../reference/vroom.html">vroom()</a></code> decompresses, indexes and writes the
decompressed data to a file in the temp directory in a single stream.
The temporary file is used to lazily look up the values and will be
automatically cleaned up when all values in the object have been fully
read, the object is removed, or the R session ends.</p>
<div class="section level3">
<h3 id="reading-individual-files-from-a-multi-file-zip-archive">Reading individual files from a multi-file zip archive<a class="anchor" aria-label="anchor" href="#reading-individual-files-from-a-multi-file-zip-archive"></a>
</h3>
<p>If you are reading a zip file that contains multiple files with the
same format, you can read a subset of the files at once like so:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">zip_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vroom_example.html">vroom_example</a></span><span class="op">(</span><span class="st">"mtcars-multi-cyl.zip"</span><span class="op">)</span></span>
<span><span class="va">filenames</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/unzip.html" class="external-link">unzip</a></span><span class="op">(</span><span class="va">zip_file</span>, list <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">$</span><span class="va">Name</span></span>
<span><span class="va">filenames</span></span>
<span><span class="co">#&gt; [1] "mtcars-4.csv" "mtcars-6.csv" "mtcars-8.csv"</span></span>
<span></span>
<span><span class="co"># imagine we only want to read 2 of the 3 files</span></span>
<span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">filenames</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span>, \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">unz</a></span><span class="op">(</span><span class="va">zip_file</span>, <span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">25</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">12</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span>  (1): model</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (11): mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 25 × 12</span></span></span>
<span><span class="co">#&gt;   model       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Datsun 7…  22.8     4  108     93  3.85  2.32  18.6     1     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Merc 240D  24.4     4  147.    62  3.69  3.19  20       1     0     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Merc 230   22.8     4  141.    95  3.92  3.15  22.9     1     0     4</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 22 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: carb &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="reading-remote-files">Reading remote files<a class="anchor" aria-label="anchor" href="#reading-remote-files"></a>
</h2>
<p>vroom can read files directly from the internet as well by passing
the URL of the file to vroom.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/tidyverse/vroom/main/inst/extdata/mtcars.csv"</span></span>
<span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">32</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">12</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span>  (1): model</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (11): mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 12</span></span></span>
<span><span class="co">#&gt;   model       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mazda RX4  21       6   160   110  3.9   2.62  16.5     0     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mazda RX…  21       6   160   110  3.9   2.88  17.0     0     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Datsun 7…  22.8     4   108    93  3.85  2.32  18.6     1     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: carb &lt;dbl&gt;</span></span></span></code></pre></div>
<p>It can even read gzipped files from the internet (although not the
other compressed formats).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/tidyverse/vroom/main/inst/extdata/mtcars.csv.gz"</span></span>
<span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">32</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">12</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span>  (1): model</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (11): mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 12</span></span></span>
<span><span class="co">#&gt;   model       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mazda RX4  21       6   160   110  3.9   2.62  16.5     0     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mazda RX…  21       6   160   110  3.9   2.88  17.0     0     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Datsun 7…  22.8     4   108    93  3.85  2.32  18.6     1     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: carb &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="column-selection">Column selection<a class="anchor" aria-label="anchor" href="#column-selection"></a>
</h2>
<p>vroom provides the same interface for column selection and renaming
as <a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">dplyr::select()</a>.
This provides very efficient, flexible and readable selections. For
example you can select by:</p>
<ul>
<li>A character vector of column names</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vroom_example.html">vroom_example</a></span><span class="op">(</span><span class="st">"mtcars.csv.gz"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="va">file</span>, col_select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">model</span>, <span class="va">cyl</span>, <span class="va">gear</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">32</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span> (1): model</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (2): cyl, gear</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 3</span></span></span>
<span><span class="co">#&gt;   model           cyl  gear</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mazda RX4         6     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mazda RX4 Wag     6     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Datsun 710        4     4</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span></code></pre></div>
<ul>
<li>A numeric vector of column indexes,
e.g. <code>c(1, 2, 5)</code>
</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="va">file</span>, col_select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">11</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">32</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span> (1): model</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (2): cyl, gear</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 3</span></span></span>
<span><span class="co">#&gt;   model           cyl  gear</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mazda RX4         6     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mazda RX4 Wag     6     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Datsun 710        4     4</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span></code></pre></div>
<ul>
<li>Using the selection helpers such as <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with()</a></code> and
<code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">ends_with()</a></code>
</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="va">file</span>, col_select <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"d"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">32</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (2): disp, drat</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 2</span></span></span>
<span><span class="co">#&gt;    disp  drat</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>   160  3.9 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>   160  3.9 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>   108  3.85</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span></code></pre></div>
<ul>
<li>You can also rename columns</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="va">file</span>, col_select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>car <span class="op">=</span> <span class="va">model</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">32</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">12</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span>  (1): model</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (11): mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 12</span></span></span>
<span><span class="co">#&gt;   car         mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mazda RX4  21       6   160   110  3.9   2.62  16.5     0     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mazda RX…  21       6   160   110  3.9   2.88  17.0     0     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Datsun 7…  22.8     4   108    93  3.85  2.32  18.6     1     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: carb &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="reading-fixed-width-files">Reading fixed width files<a class="anchor" aria-label="anchor" href="#reading-fixed-width-files"></a>
</h2>
<p>A fixed width file can be a very compact representation of numeric
data. Unfortunately, it’s also often painful to read because you need to
describe the length of every field. vroom aims to make it as easy as
possible by providing a number of different ways to describe the field
structure. Use <code><a href="../reference/vroom_fwf.html">vroom_fwf()</a></code> in conjunction with one of the
following helper functions to read the file.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fwf_sample</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vroom_example.html">vroom_example</a></span><span class="op">(</span><span class="st">"fwf-sample.txt"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">fwf_sample</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; John Smith          WA        418-Y11-4111 Mary Hartford       CA        319-Z19-4341 Evan Nolan          IL        219-532-c301</span></span></code></pre></div>
<ul>
<li>
<code><a href="../reference/vroom_fwf.html">fwf_empty()</a></code> - Guess based on the position of empty
columns.</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom_fwf.html">vroom_fwf</a></span><span class="op">(</span><span class="va">fwf_sample</span>, <span class="fu"><a href="../reference/vroom_fwf.html">fwf_empty</a></span><span class="op">(</span><span class="va">fwf_sample</span>, col_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"first"</span>, <span class="st">"last"</span>, <span class="st">"state"</span>, <span class="st">"ssn"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">3</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">4</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span> (4): first, last, state, ssn</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 4</span></span></span>
<span><span class="co">#&gt;   first last     state ssn         </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> John  Smith    WA    418-Y11-4111</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mary  Hartford CA    319-Z19-4341</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Evan  Nolan    IL    219-532-c301</span></span></code></pre></div>
<ul>
<li>
<code><a href="../reference/vroom_fwf.html">fwf_widths()</a></code> - Use user provided set of field
widths.</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom_fwf.html">vroom_fwf</a></span><span class="op">(</span><span class="va">fwf_sample</span>, <span class="fu"><a href="../reference/vroom_fwf.html">fwf_widths</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">10</span>, <span class="fl">12</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"state"</span>, <span class="st">"ssn"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">3</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span> (3): name, state, ssn</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 3</span></span></span>
<span><span class="co">#&gt;   name          state ssn         </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> John Smith    WA    418-Y11-4111</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mary Hartford CA    319-Z19-4341</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Evan Nolan    IL    219-532-c301</span></span></code></pre></div>
<ul>
<li>
<code><a href="../reference/vroom_fwf.html">fwf_positions()</a></code> - Use user provided sets of start and
end positions.</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom_fwf.html">vroom_fwf</a></span><span class="op">(</span><span class="va">fwf_sample</span>, <span class="fu"><a href="../reference/vroom_fwf.html">fwf_positions</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">30</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">42</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"ssn"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">3</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span> (2): name, ssn</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">#&gt;   name          ssn         </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> John Smith    418-Y11-4111</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mary Hartford 319-Z19-4341</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Evan Nolan    219-532-c301</span></span></code></pre></div>
<ul>
<li>
<code><a href="../reference/vroom_fwf.html">fwf_cols()</a></code> - Use user provided named widths.</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom_fwf.html">vroom_fwf</a></span><span class="op">(</span><span class="va">fwf_sample</span>, <span class="fu"><a href="../reference/vroom_fwf.html">fwf_cols</a></span><span class="op">(</span>name <span class="op">=</span> <span class="fl">20</span>, state <span class="op">=</span> <span class="fl">10</span>, ssn <span class="op">=</span> <span class="fl">12</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">3</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span> (3): name, state, ssn</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 3</span></span></span>
<span><span class="co">#&gt;   name          state ssn         </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> John Smith    WA    418-Y11-4111</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mary Hartford CA    319-Z19-4341</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Evan Nolan    IL    219-532-c301</span></span></code></pre></div>
<ul>
<li>
<code><a href="../reference/vroom_fwf.html">fwf_cols()</a></code> - Use user provided named pairs of
positions.</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom_fwf.html">vroom_fwf</a></span><span class="op">(</span><span class="va">fwf_sample</span>, <span class="fu"><a href="../reference/vroom_fwf.html">fwf_cols</a></span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">20</span><span class="op">)</span>, ssn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">42</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">3</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">───────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span> (2): name, ssn</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">#&gt;   name          ssn         </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> John Smith    418-Y11-4111</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mary Hartford 319-Z19-4341</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Evan Nolan    219-532-c301</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="column-types">Column types<a class="anchor" aria-label="anchor" href="#column-types"></a>
</h2>
<p>vroom guesses the data types of columns as they are read, however
sometimes the guessing fails and it is necessary to explicitly set the
type of one or more columns.</p>
<p>The available specifications are: (with single letter abbreviations
in quotes)</p>
<ul>
<li>
<code><a href="../reference/cols.html">col_logical()</a></code> ‘l’, containing only <code>T</code>,
<code>F</code>, <code>TRUE</code>, <code>FALSE</code>, <code>1</code> or
<code>0</code>.</li>
<li>
<code><a href="../reference/cols.html">col_integer()</a></code> ‘i’, integer values.</li>
<li>
<code><a href="../reference/cols.html">col_big_integer()</a></code> ‘I’, Big integer values. (64bit
integers)</li>
<li>
<code><a href="../reference/cols.html">col_double()</a></code> ‘d’, floating point values.</li>
<li>
<code><a href="../reference/cols.html">col_number()</a></code> ‘n’, numbers containing the
<code>grouping_mark</code>
</li>
<li>
<code>col_date(format = "")</code> ‘D’: with the locale’s
<code>date_format</code>.</li>
<li>
<code>col_time(format = "")</code> ‘t’: with the locale’s
<code>time_format</code>.</li>
<li>
<code>col_datetime(format = "")</code> ‘T’: ISO8601 date times.</li>
<li>
<code>col_factor(levels, ordered)</code> ‘f’, a fixed set of
values.</li>
<li>
<code><a href="../reference/cols.html">col_character()</a></code> ‘c’, everything else.</li>
<li>
<code><a href="../reference/cols.html">col_skip()</a></code> ’_, -’, don’t import this column.</li>
<li>
<code><a href="../reference/cols.html">col_guess()</a></code> ‘?’, parse using the “best” type based on
the input.</li>
</ul>
<p>You can tell vroom what columns to use with the
<code><a href="../reference/cols.html">col_types()</a></code> argument in a number of ways.</p>
<p>If you only need to override a single column the most concise way is
to use a named vector.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># read the 'hp' columns as an integer</span></span>
<span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="fu"><a href="../reference/vroom_example.html">vroom_example</a></span><span class="op">(</span><span class="st">"mtcars.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>hp <span class="op">=</span> <span class="st">"i"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 12</span></span></span>
<span><span class="co">#&gt;   model       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mazda RX4  21       6   160   110  3.9   2.62  16.5     0     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mazda RX…  21       6   160   110  3.9   2.88  17.0     0     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Datsun 7…  22.8     4   108    93  3.85  2.32  18.6     1     1     4</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: carb &lt;dbl&gt;</span></span></span>
<span></span>
<span><span class="co"># also skip reading the 'cyl' column</span></span>
<span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="fu"><a href="../reference/vroom_example.html">vroom_example</a></span><span class="op">(</span><span class="st">"mtcars.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>hp <span class="op">=</span> <span class="st">"i"</span>, cyl <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 11</span></span></span>
<span><span class="co">#&gt;   model       mpg  disp    hp  drat    wt  qsec    vs    am  gear  carb</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mazda RX4  21     160   110  3.9   2.62  16.5     0     1     4     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mazda RX…  21     160   110  3.9   2.88  17.0     0     1     4     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Datsun 7…  22.8   108    93  3.85  2.32  18.6     1     1     4     1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span>
<span></span>
<span><span class="co"># also read the gears as a factor</span></span>
<span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="fu"><a href="../reference/vroom_example.html">vroom_example</a></span><span class="op">(</span><span class="st">"mtcars.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>hp <span class="op">=</span> <span class="st">"i"</span>, cyl <span class="op">=</span> <span class="st">"_"</span>, gear <span class="op">=</span> <span class="st">"f"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 11</span></span></span>
<span><span class="co">#&gt;   model       mpg  disp    hp  drat    wt  qsec    vs    am gear   carb</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mazda RX4  21     160   110  3.9   2.62  16.5     0     1 4         4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mazda RX…  21     160   110  3.9   2.88  17.0     0     1 4         4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Datsun 7…  22.8   108    93  3.85  2.32  18.6     1     1 4         1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span></code></pre></div>
<p>You can read all the columns with the same type, by using the
<code>.default</code> argument. For example reading everything as a
character.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span><span class="fu"><a href="../reference/vroom_example.html">vroom_example</a></span><span class="op">(</span><span class="st">"mtcars.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>.default <span class="op">=</span> <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 12</span></span></span>
<span><span class="co">#&gt;   model     mpg   cyl   disp  hp    drat  wt    qsec  vs    am    gear </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mazda RX4 21    6     160   110   3.9   2.62  16.46 0     1     4    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mazda RX… 21    6     160   110   3.9   2.875 17.02 0     1     4    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Datsun 7… 22.8  4     108   93    3.85  2.32  18.61 1     1     4    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: carb &lt;chr&gt;</span></span></span></code></pre></div>
<p>However you can also use the <code>col_*()</code> functions in a
list.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/vroom_example.html">vroom_example</a></span><span class="op">(</span><span class="st">"mtcars.csv"</span><span class="op">)</span>,</span>
<span>  col_types <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>hp <span class="op">=</span> <span class="fu"><a href="../reference/cols.html">col_integer</a></span><span class="op">(</span><span class="op">)</span>, cyl <span class="op">=</span> <span class="fu"><a href="../reference/cols.html">col_skip</a></span><span class="op">(</span><span class="op">)</span>, gear <span class="op">=</span> <span class="fu"><a href="../reference/cols.html">col_factor</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 11</span></span></span>
<span><span class="co">#&gt;   model       mpg  disp    hp  drat    wt  qsec    vs    am gear   carb</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mazda RX4  21     160   110  3.9   2.62  16.5     0     1 4         4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mazda RX…  21     160   110  3.9   2.88  17.0     0     1 4         4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Datsun 7…  22.8   108    93  3.85  2.32  18.6     1     1 4         1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span></code></pre></div>
<p>This is most useful when a column type needs additional information,
such as for categorical data when you know all of the levels of a
factor.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/vroom_example.html">vroom_example</a></span><span class="op">(</span><span class="st">"mtcars.csv"</span><span class="op">)</span>,</span>
<span>  col_types <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>gear <span class="op">=</span> <span class="fu"><a href="../reference/cols.html">col_factor</a></span><span class="op">(</span>levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>gear <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"3"</span>, <span class="st">"4"</span>, <span class="st">"5"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 12</span></span></span>
<span><span class="co">#&gt;   model       mpg   cyl  disp    hp  drat    wt  qsec    vs    am gear </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mazda RX4  21       6   160   110  3.9   2.62  16.5     0     1 4    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Mazda RX…  21       6   160   110  3.9   2.88  17.0     0     1 4    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Datsun 7…  22.8     4   108    93  3.85  2.32  18.6     1     1 4    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: carb &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="name-repair">Name repair<a class="anchor" aria-label="anchor" href="#name-repair"></a>
</h2>
<p>Often the names of columns in the original dataset are not ideal to
work with. <code><a href="../reference/vroom.html">vroom()</a></code> uses the same <code>.name_repair</code>
argument as tibble, so you can use one of the default name repair
strategies or provide a custom function. A great approach is to use the
<a href="https://sfirke.github.io/janitor/reference/make_clean_names.html" class="external-link"><code>janitor::make_clean_names()</code></a>
function as the input. This will automatically clean the names to use
whatever case you specify, here I am setting it to use
<code>ALLCAPS</code> names.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom.html">vroom</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/vroom_example.html">vroom_example</a></span><span class="op">(</span><span class="st">"mtcars.csv"</span><span class="op">)</span>,</span>
<span>  .name_repair <span class="op">=</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">janitor</span><span class="fu">::</span><span class="fu">make_clean_names</span><span class="op">(</span><span class="va">x</span>, case <span class="op">=</span> <span class="st">"all_caps"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="writing-delimited-files">Writing delimited files<a class="anchor" aria-label="anchor" href="#writing-delimited-files"></a>
</h2>
<p>Use <code><a href="../reference/vroom_write.html">vroom_write()</a></code> to write delimited files, the default
delimiter is tab, to write TSV files. Writing to TSV by default has the
following benefits: - Avoids the issue of whether to use <code>;</code>
(common in Europe) or <code>,</code> (common in the US) - Unlikely to
require quoting in fields, as very few fields contain tabs - More easily
and efficiently ingested by Unix command line tools such as
<code>cut</code>, <code>perl</code> and <code>awk</code>.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom_write.html">vroom_write</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"mtcars.tsv"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="writing-csv-delimited-files">Writing CSV delimited files<a class="anchor" aria-label="anchor" href="#writing-csv-delimited-files"></a>
</h3>
<p>However you can also use <code>delim = ','</code> to write CSV files,
which are common as inputs to GUI spreadsheet tools like Excel or Google
Sheets.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom_write.html">vroom_write</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"mtcars.csv"</span>, delim <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="writing-compressed-files">Writing compressed files<a class="anchor" aria-label="anchor" href="#writing-compressed-files"></a>
</h3>
<p>For gzip, bzip2 and xz compression the outputs will be automatically
compressed if the filename ends in <code>.gz</code>, <code>.bz2</code>
or <code>.xz</code>.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom_write.html">vroom_write</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"mtcars.tsv.gz"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/vroom_write.html">vroom_write</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"mtcars.tsv.bz2"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/vroom_write.html">vroom_write</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"mtcars.tsv.xz"</span><span class="op">)</span></span></code></pre></div>
<p>It is also possible to use other compressors by using
<code><a href="https://rdrr.io/r/base/connections.html" class="external-link">pipe()</a></code> with <code><a href="../reference/vroom_write.html">vroom_write()</a></code> to create a pipe
connection to command line utilities, such as</p>
<ul>
<li>
<a href="https://zlib.net/pigz/" class="external-link">pigz</a>, a parallel gzip
implementation</li>
<li>lbzip2, a parallel bzip2 implementation</li>
<li>
<a href="https://github.com/vasi/pixz" class="external-link">pixz</a>, a parallel xz
implementation</li>
<li>
<a href="https://facebook.github.io/zstd/" class="external-link">Zstandard</a>, a modern
real-time compression algorithm.</li>
</ul>
<p>The parallel compression versions can be considerably faster for
large output files and generally <code><a href="../reference/vroom_write.html">vroom_write()</a></code> is fast
enough that the compression speed becomes the bottleneck when
writing.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/vroom_write.html">vroom_write</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">pipe</a></span><span class="op">(</span><span class="st">"pigz &gt; mtcars.tsv.gz"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="reading-and-writing-from-standard-input-and-output">Reading and writing from standard input and output<a class="anchor" aria-label="anchor" href="#reading-and-writing-from-standard-input-and-output"></a>
</h3>
<p>vroom supports reading and writing to the C-level <code>stdin</code>
and <code>stdout</code> of the R process by using <code><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stdin()</a></code>
and <code><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stdout()</a></code>. E.g. from a shell prompt you can pipe to and
from vroom directly.</p>
<pre class="shell"><code>cat inst/extdata/mtcars.csv | Rscript -e 'vroom::vroom(stdin())'

Rscript -e 'vroom::vroom_write(iris, stdout())' | head</code></pre>
<p>Note this interpretation of <code><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stdin()</a></code> and
<code><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stdout()</a></code> differs from that used elsewhere by R, however we
believe it better matches most user’s expectations for this use
case.</p>
</div>
</div>
<div class="section level2">
<h2 id="further-reading">Further reading<a class="anchor" aria-label="anchor" href="#further-reading"></a>
</h2>
<ul>
<li>
<code><a href="../articles/benchmarks.html">vignette("benchmarks")</a></code> discusses the performance of
vroom, how it compares to alternatives and how it achieves its
results.</li>
<li>
<a href="https://www.youtube.com/watch?v=RA9AjqZXxMU&amp;t=10s" class="external-link">📽
vroom: Because Life is too short to read slow</a> - Presentation of
vroom at UseR!2019 (<a href="https://speakerdeck.com/jimhester/vroom" class="external-link">slides</a>)</li>
<li>
<a href="https://www.youtube.com/watch?v=ZP_y5eaAc60" class="external-link">📹 vroom: Read
and write rectangular data quickly</a> - a video tour of the vroom
features.</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.jimhester.com/" class="external-link">Jim Hester</a>, <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://jennybryan.org" class="external-link">Jennifer Bryan</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer>
</body>
</html>
